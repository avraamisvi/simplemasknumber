/*
	A simple input mask with basic features to mask a input field for number values.
	
	github: https://github.com/avraamisvi/simplemasknumber
	Author: Abraao Isvi.
	Date: 05-10-2015
	license: MIT
*/
var $simpleNumberMask=function(){function e(){function e(e,t){var n=n=e.value.replace(/\D/gi,""),l=""
n||(n=""),e["@simple-number-mask-value"]=n
for(var a=n,r=0,a=n,r=0;a.length<t.decimal.size+1;)a="0"+a
for(var i=a.length-t.decimal.size-1;i>=0;i--)3==r&&(l=t.integer.separator+l,r=0),r++,l=a.charAt(i)+l
l+=t.decimal.separator
for(var i=a.length-t.decimal.size;i<a.length;i++)l+=a.charAt(i)
a.trim(),e.value=l,e.setSelectionRange(e.value.length,e.value.length)}function t(e,t){function n(n,l){if(67==l.keyCode&&l.ctrlKey)return!0
if(l.keyCode>57||l.keyCode<48){if(8!=l.keyCode)return!1
var a=n["@simple-number-mask-value"]
a=a.substring(0,a.length-1),n["@simple-number-mask-value"]=a}var r=n["@simple-number-mask"],i=n["@simple-number-mask-value"]
if(i.length>=n.maxlength-2)return!1
var u=""
if(8!=l.keyCode){var s=String.fromCharCode(l.keyCode)
i+=s}n["@simple-number-mask-value"]=i
for(var o=i,m=0;o.length<r.decimal.size+1;)o="0"+o
for(var h=o.length-t.decimal.size-1;h>=0;h--)3==m&&(u=t.integer.separator+u,m=0),m++,u=o.charAt(h)+u
u+=t.decimal.separator
for(var h=o.length-t.decimal.size;h<o.length;h++)u+=o.charAt(h)
return o.trim(),e.value=u,e.setSelectionRange(e.value.length,e.value.length),!1}t||(t={decimal:{size:2,separator:"."},integer:{size:6,separator:","}}),e.style["text-align"]="right",e["@simple-number-mask"]=t,e.maxlength=t.decimal.size+t.integer.size+2,e.onkeyup=function(){return this.setSelectionRange(this.value.length,this.value.length),!1},e.onkeydown=function(e){return function(t){return this.setSelectionRange(this.value.length,this.value.length),n(e,t)}}(e),e.onfocus=function(){return this.setSelectionRange(this.value.length,this.value.length),!1},e.ondragend=function(){return this.setSelectionRange(this.value.length,this.value.length),!1},e.onclick=function(){return this.setSelectionRange(this.value.length,this.value.length),!1},e.onselect=function(){return this.setSelectionRange(this.value.length,this.value.length),!1},e.oncopy=function(){return this.setSelectionRange(0,this.value.length),!0}}return{getValue:function(e){var t=document.getElementById(e)
return t?t["@simple-number-mask-value"]:null},getNumber:function(e){var t=document.getElementById(e)
return t?(val=t["@simple-number-mask-value"],val=parseInt(val),exp=parseInt(t["@simple-number-mask"].decimal.size),val/Math.pow(10,exp)):null},apply:function(n,l){elems=document.querySelectorAll(n)
for(var a=0;a<elems.length;a++)e(elems[a],l),t(elems[a],l)}}}return e()}()
