/*
	A simple input mask with basic features to mask a input field for number values.

	github: https://github.com/avraamisvi/simplemasknumber
	Author: Abraao Isvi.
	Date: 05-10-2015
	license: MIT
 */
var $simpleNumberMask=function(){function e(){function e(e,n){var r=e.replace(/\D/gi,"|").split("|"),t=""
if(r&&r.length>1){for(var a=parseInt(r[0]);r[1].length<n.decimal.size;)r[1]+="0"
a>0?(t=r[0],t+=r[1]):(a=parseInt(r[1]),t+=a>9?r[1]:a)}return t}function n(n,r){r||(r={decimal:{size:2,separator:"."},integer:{size:6,separator:","}}),n["@simple-number-mask-value"]=""
var t=t=e(n.value,r),a=""
t||(t="")
try{parseInt(t)&&(n["@simple-number-mask-value"]=t)}catch(l){console.debug(l)}for(var i=t,s=0,i=t,s=0;i.length<r.decimal.size+1;)i="0"+i
for(var u=i.length-r.decimal.size-1;u>=0;u--)3==s&&(a=r.integer.separator+a,s=0),s++,a=i.charAt(u)+a
a+=r.decimal.separator
for(var u=i.length-r.decimal.size;u<i.length;u++)a+=i.charAt(u)
i.trim(),n.value=a,n.setSelectionRange(n.value.length,n.value.length)}function r(e,n){function r(r,t){if(67==t.keyCode&&t.ctrlKey)return!0
if(8==t.keyCode){var a=r["@simple-number-mask-value"]
a=a.substring(0,a.length-1),r["@simple-number-mask-value"]=a}else if(t.charCode>57||t.charCode<48)return!1
var l=r["@simple-number-mask"],i=r["@simple-number-mask-value"]
if(i.length>=r.maxlength-2)return!1
var s=""
if(8!=t.keyCode){var u=String.fromCharCode(t.charCode)
i+=u}try{parseInt(i)&&(r["@simple-number-mask-value"]=i)}catch(o){console.debug(o)}for(var m=i,c=0;m.length<l.decimal.size+1;)m="0"+m
for(var g=m.length-n.decimal.size-1;g>=0;g--)3==c&&(s=n.integer.separator+s,c=0),c++,s=m.charAt(g)+s
s+=n.decimal.separator
for(var g=m.length-n.decimal.size;g<m.length;g++)s+=m.charAt(g)
return m.trim(),e.value=s,e.setSelectionRange(e.value.length,e.value.length),!1}n||(n={decimal:{size:2,separator:"."},integer:{size:6,separator:","}}),e.style["text-align"]="right",e.style.textAlign="right",e["@simple-number-mask"]=n,e.maxlength=n.decimal.size+n.integer.size+2,e.onkeyup=function(){return!1},e.onkeydown=function(e){return 86==e.keyCode&&e.ctrlKey?(console.log(e),!0):8==e.keyCode?r(this,e):!0},e.onpaste=function(){return!1},e.onkeypress=function(e){return r(this,e)},e.onfocus=function(){return!1},e.ondragend=function(){return!1},e.onclick=function(){return!1},e.onselect=function(){return!1},e.oncopy=function(){return this.setSelectionRange(0,this.value.length),!0}}return{getValue:function(e){var n=document.getElementById(e)
return n?n["@simple-number-mask-value"]:null},getNumber:function(e){var n=document.getElementById(e)
return n?(val=n["@simple-number-mask-value"],val=parseInt(val),exp=parseInt(n["@simple-number-mask"].decimal.size),val/Math.pow(10,exp)):null},apply:function(e,t){elems=document.querySelectorAll(e)
for(var a=0;a<elems.length;a++)n(elems[a],t),r(elems[a],t)}}}return e()}()
